---
interface Props {
  headline: string;
  subheadline?: string;
  subBodyText?: string;
  backgroundImage?: string;
  ctaLabel?: string;
  ctaUrl?: string;
  logoOverlay?: string;
}

const {
  headline,
  subheadline,
  subBodyText,
  backgroundImage,
  ctaLabel,
  ctaUrl,
  logoOverlay,
} = Astro.props as Props;

const locale = Astro.currentLocale ?? 'de';
const isDE = locale.startsWith('de');
const defaultCta = isDE ? 'Mehr erfahren' : 'Learn more';
const localizedCtaLabel = ctaLabel || defaultCta;
const showCta = Boolean(ctaUrl);

const bgStyle = backgroundImage
  ? `background-image: url('${backgroundImage}'); background-size: cover; background-position: center;`
  : '';
---

<section
  class={`relative w-full min-h-[60vh] overflow-hidden ${!backgroundImage ? 'bg-eos-base' : ''}`}
>
  {backgroundImage && (
    <img
      src={backgroundImage}
      alt=""
      class="absolute inset-0 w-full h-full object-cover img-greyscale"
      aria-hidden="true"
    />
  )}

  {backgroundImage && (
    <div
      class="absolute inset-0 pointer-events-none"
      style="background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 60%);"
      aria-hidden="true"
    ></div>
  )}

  {logoOverlay && (
    <div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none">
      <img
        src={logoOverlay}
        alt="EOS CLUB Logo Overlay"
        class="max-w-[300px] w-full px-6"
      />
    </div>
  )}

  <div class="absolute bottom-8 left-8 lg:left-16 max-w-3xl z-10">
    <h1 class="text-3xl lg:text-5xl font-bold text-white">
      {headline}
    </h1>

    {subheadline && (
      <h2 class="text-lg text-white/80 mt-2">
        {subheadline}
      </h2>
    )}

    {subBodyText && (
      <p class="text-base text-white/70 mt-3 max-w-prose">
        {subBodyText}
      </p>
    )}

    {showCta && (
      <a
        href={ctaUrl}
        class="bg-eos-accent text-eos-base rounded-full px-8 py-3 mt-6 inline-block font-semibold transition-opacity hover:opacity-90"
      >
        {localizedCtaLabel}
      </a>
    )}
  </div>
</section>
